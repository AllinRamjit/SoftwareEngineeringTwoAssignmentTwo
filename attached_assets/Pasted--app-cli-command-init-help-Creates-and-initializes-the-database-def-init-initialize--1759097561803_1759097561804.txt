@app.cli.command("init", help="Creates and initializes the database")
def init():
    initialize()

    # Check if users already exist before creating them
    if not User.query.filter_by(username='bob').first():
        bob = User(username='bob', password='bobpass')
        db.session.add(bob)
        print('Created user: bob')
    else:
        print('User bob already exists')

    if not User.query.filter_by(username='sally').first():
        sally = User(username='sally', password='sallypass')
        db.session.add(sally)
        print('Created user: sally')
    else:
        print('User sally already exists')

    if not User.query.filter_by(username='rob').first():
        rob = User(username='rob', password='robpass')
        db.session.add(rob)
        print('Created user: rob')
    else:
        print('User rob already exists')

    # Create students
    # Can you rewrite it where users (Student and Staff) can input their own username and password when they run flask init?
    # I want both student and staff to be able to create their own username and password when they run flask init
    while True:
        staff_username = input("Enter staff username (or 'exit' to quit): ")
        if staff_username == 'exit':
            break
        staff_password = input("Enter staff password: ")
        if not Staff.query.filter_by(username=staff_username).first():
            staff = Staff(username=staff_username, password=staff_password)
            db.session.add(staff)
            print(f'Created staff: {staff_username}')
        else:
            print(f'Staff {staff_username} already exists')

    while True:
        student_username = input("Enter student username (or 'exit' to quit): ")
        if student_username == 'exit':
            break
        student_password = input("Enter student password: ")
        if not Student.query.filter_by(username=student_username).first():
            student = Student(username=student_username, password=student_password)
            db.session.add(student)
            print(f'Created student: {student_username}')
        else:
            print(f'Student {student_username} already exists')
    db.session.commit()
    print('Database initialized')